#!/usr/bin/env  perl
use  strict;
use  warnings;
use  v5.12;
## Perl5 version >= 5.12
###################################################################################################################################################################################################


system("mkdir -p  4_formatted");
open(my $DH1, "<", "3_Merged/allPeaks.bed" )   ||  die;
open(my $DH2, ">", "4_formatted/finalPeaks.autosomal.bed" )  ||  die; 
my @lines1 = <$DH1>;        
for ( my $j=1; $j<=$#lines1; $j++ ) {
        	$lines1[$j] =~ m/^(\S+)\s+(\S+)\s+(\d+)\s+(\d+)\s+(\S)\s+/  or  die;
        	my $name1  = $1;
        	my $chr1   = $2;
        	my $start1 = $3;
        	my $end1   = $4;
        	my $strand1 = $5;
        	my $len1 = $end1 - $start1;
        	$name1 = "$chr1:$start1-$end1...$j";
        	if( $len1 > 20 ) {
        	    print $DH2 "$chr1\t$start1\t$end1\t$name1\t$len1\t.\n";
        	}
}


###################################################################################################################################################################################################
say   "\n\n\n\n\n\n##################################################################################################";
say   "\tJob Done! Cheers! \n\n\n\n\n";





## END




